<!doctype html>
<html ng-app="mapApp">
  <head>
    <script src="angular.min.js"></script>
    <script src="http://maps.google.com/maps/api/js"></script>
    <script src="ng-map.min.js"></script>
  </head>
  <body>
    <div ng-controller="MapController as vm">

      <button ng-click="vm.ping()">PING</button>
       <button ng-click="vm.removeMarker()">remove marker</button>

      {{vm.positions}}
      {{vm.clickOnMarker}}

      <form ng-submit="vm.focus()">
        <input type="text" ng-model="vm.centerForm.value" />
        <button type="submit">focus</button>
      </form>



      <form ng-submit="vm.sendMessage()">
        <input type="text" ng-model="vm.messageForm.value" />
        <button type="submit">send</button>
      </form>
      <ng-map
        zoom="10"
        center="{{vm.center}}"
        on-center-changed="vm.centerChanged()"
        on-dragstart="vm.dragstart()"
        on-dragend="vm.drop()"
        on-click="vm.addMarker()"
        >

        <marker
        ng-repeat="pos in vm.positions"
        position="{{pos.lat}}, {{pos.lng}}"
        on-click="vm.clickOnMarker()"
        on-dragend ="vm.draggedMarker('dragEnd', marker)"
        draggable="true" >

        </marker>

      </ng-map>
      <ul>
        <li ng-repeat="message in vm.messages">{{ message }}</li>
      </ul>
    </div>
    <script type="text/javascript" src="bundle.js" charset="utf-8"></script>
  </body>
</html>
